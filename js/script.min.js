"use strict";function myFunction(){document.getElementById("nav-slide").classList.toggle("open")}const images=document.querySelectorAll(".open-modal"),body=document.querySelector("body"),modal=document.getElementById("lightbox-modal"),modalOverlay=document.getElementById("overlay"),changeImage=document.getElementById("lightbox-image"),textData=["Refonte d'un site web pour un journal local","Création d'un site web pour photographes","Création d'un site internet pour un voyageur","Conception d'un site pour une agence de mariage"],nextBtnImg=e=>{document.querySelector(".next-lightbox").style.display=e},prevBtnImg=e=>{document.querySelector(".prev-lightbox").style.display=e},imgKeyChange=document.addEventListener("keydown",(e=>{checkIfBtnNeeded(),"ArrowLeft"===e.key&&arrayNumber>0&&arrayNumber<4&&void 0!==arrayNumber&&(prevImg(),checkIfBtnNeeded()),"ArrowRight"===e.key&&arrayNumber>=0&&arrayNumber<3&&(nextImg(),checkIfBtnNeeded()),body.classList.contains("modal-open")&&"Escape"===e.key&&closeModal()}));function textChange(){document.querySelector(".lightbox-caption").textContent=textData[arrayNumber]}function nextImg(){imgNumber++,arrayNumber++,document.querySelector(".lightbox-caption").textContent=textData[arrayNumber],changeImage.src=`./assets/img/${imgNumber}.webp`}function prevImg(){imgNumber--,arrayNumber--,textChange(),changeImage.src=`./assets/img/${imgNumber}.webp`}function checkIfBtnNeeded(){0===arrayNumber?prevBtnImg("none"):3===arrayNumber?nextBtnImg("none"):arrayNumber>0&&arrayNumber<3&&(prevBtnImg("block"),nextBtnImg("block"))}function closeModal(){document.getElementById("lightbox-modal").classList.remove("opened"),modalOverlay.style.visibility="hidden",modalOverlay.style.opacity="0",body.classList.remove("modal-open")}let arrayNumber,imgNumber;for(let e=0;e<images.length;e++)images[e].addEventListener("click",(()=>{arrayNumber=e,imgNumber=e+1,changeImage.src=`./assets/img/${imgNumber}.webp`,document.querySelector(".lightbox-caption").textContent=textData[e],body.classList.add("modal-open"),document.getElementById("lightbox-modal").classList.add("opened"),modalOverlay.style.visibility="visible",modalOverlay.style.opacity=".5",checkIfBtnNeeded()}));document.querySelector(".prev-lightbox").addEventListener("click",(()=>{prevImg(),checkIfBtnNeeded()})),document.querySelector(".next-lightbox").addEventListener("click",(()=>{nextImg(),checkIfBtnNeeded()})),document.querySelector(".close-lightbox").addEventListener("click",(()=>{closeModal()})),document.getElementById("overlay").addEventListener("click",(()=>{closeModal()})),document.querySelector(".modal").addEventListener("swiped-left",(()=>{arrayNumber<3&&nextImg(),checkIfBtnNeeded()})),document.querySelector(".modal").addEventListener("swiped-right",(()=>{arrayNumber>0&&prevImg(),checkIfBtnNeeded()})),function(e,t){"initCustomEvent"in t.createEvent("CustomEvent")&&(e.CustomEvent=function(e,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var a=t.createEvent("CustomEvent");return a.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),a},e.CustomEvent.prototype=e.Event.prototype),t.addEventListener("touchstart",(function(e){"true"!==e.target.getAttribute("data-swipe-ignore")&&(d=e.target,l=Date.now(),n=e.touches[0].clientX,a=e.touches[0].clientY,o=0,r=0)}),!1),t.addEventListener("touchmove",(function(e){if(n&&a){var t=e.touches[0].clientX,l=e.touches[0].clientY;o=n-t,r=a-l}}),!1),t.addEventListener("touchend",(function(e){if(d===e.target){var t=parseInt(d.getAttribute("data-swipe-threshold")||"20",10),c=parseInt(d.getAttribute("data-swipe-timeout")||"500",10),i=Date.now()-l,u="";Math.abs(o)>Math.abs(r)?Math.abs(o)>t&&i<c&&(u=o>0?"swiped-left":"swiped-right"):Math.abs(r)>t&&i<c&&(u=r>0?"swiped-up":"swiped-down"),""!==u&&d.dispatchEvent(new CustomEvent(u,{bubbles:!0,cancelable:!0})),n=null,a=null,l=null}}),!1);var n=null,a=null,o=null,r=null,l=null,d=null}(this,document);